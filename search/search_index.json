{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Bienvenue !","text":"<p>Ce site est con\u00e7u pour les \u00e9l\u00e8ves de STI2D du lyc\u00e9e Jules Verne (Mondeville - Calvados).</p>"},{"location":"Travaux%20pratiques/TP-feux-de-carrefour/","title":"TP. Feux de carrefour","text":"<p>Objectif</p> <p> On souhaite simuler le fonctionnement de feux d'un croisement de deux voies (A et B). On \u00e9tudiera ici la mise en oeuvre d'une carte Arduino Uno et de mod\u00e8les r\u00e9duits de feux de carrefour.</p> <ul> <li>r\u00e9aliser la maquette \u00e0 partir du sch\u00e9ma \u00e9lectronique, \u00e0 l'aide d'une plaque d'exp\u00e9rimentation ;</li> <li>saisir et comprendre le programme : cr\u00e9er d'autres fonctions que setup et loop ; utiliser l'instrution millis() pour g\u00e9rer les d\u00e9lais.</li> <li>faire \u00e9voluer le programme pour y ajouter un deuxi\u00e8me feu, puis d'autres fonctions.</li> </ul>"},{"location":"Travaux%20pratiques/TP-feux-de-carrefour/#materiel-necessaire","title":"Mat\u00e9riel n\u00e9cessaire","text":"<ul> <li>une carte Arduino Uno ;</li> <li>une plaque d'exp\u00e9rimentation ;</li> <li>deux feux tricolores ;</li> <li>8 c\u00e2bles male-male ;</li> <li>un c\u00e2ble USB A ;</li> <li>le logiciel Arduino.</li> </ul>"},{"location":"Travaux%20pratiques/TP-feux-de-carrefour/#schema-electronique","title":"Sch\u00e9ma \u00e9lectronique","text":""},{"location":"Travaux%20pratiques/TP-feux-de-carrefour/#representation-du-fonctionnement-des-feux","title":"Repr\u00e9sentation du fonctionnement des feux","text":"<p>On peut repr\u00e9senter le fonctionnement des feux de carrefour par ce chronogramme. On consid\u00e8re qu'il y a deux voies qui se croisent dans notre carrefour : la voie A et la voie B : </p> <p></p>"},{"location":"Travaux%20pratiques/TP-feux-de-carrefour/#programme-et-explications","title":"Programme et explications","text":""},{"location":"Travaux%20pratiques/TP-feux-de-carrefour/#informations-generales","title":"Informations g\u00e9n\u00e9rales","text":"<p>On d\u00e9crit le programme dans un en-t\u00eate, au d\u00e9but du programme. Cette zone permet d'indiquer quelques informations principales : l'auteur du programme, l'organisme, \u00e9ventuellement la version.  Ne n\u00e9gligez pas cette partie ! Cette partie ne sera pas ex\u00e9cut\u00e9e, elle appra\u00eet sous la forme d'un bloc de commentaires.</p> <pre><code>/*\n/ Utilisation de la fonction millis() pour g\u00e9rer \n/ les feux de carrefour.\n/ Philippe Morin - Lyc\u00e9e Jules Verne \n*/\n</code></pre>"},{"location":"Travaux%20pratiques/TP-feux-de-carrefour/#definition-et-declaration-des-constantes","title":"D\u00e9finition et d\u00e9claration des constantes","text":"<p>On d\u00e9finit quelques noms de constantes pour plus de lisibilit\u00e9. Par exemple, \u00e0 chaque fois que le programme rencontrera l'expression <code>feuRougeVoieA</code>, il la remplacera par la valeur <code>5</code>. Ces d\u00e9finitions seront cr\u00e9ees avant compilation, ce ne sont donc pas des instructions. C'est pourquoi ces lilgne ne se terminent pas par un point-virgule.</p> <pre><code>#define feuRougeVoieA 5\n#define feuOrangeVoieA 4\n#define feuVertVoieA 3\n\nunsigned long departCycle;\n</code></pre> <p>Noms des variables et constantes</p> <p>Remarquez la forme des noms de ces variables et constantes : chaque mot commence par une majuscule. On aurait pu aussi nommer <code>feu_rouge_voie_a</code>, par exemple. Choisissez un type de nom explicite, et tentez de le conserver.</p>"},{"location":"Travaux%20pratiques/TP-feux-de-carrefour/#intitialisation","title":"Intitialisation","text":"<p>La fonction <code>setup()</code> permet d'initialiser quelques \u00e9l\u00e9ments de notre programme :</p> <ul> <li>on indique que les broches utilis\u00e9es seront g\u00e9r\u00e9es en sortie (on envoie un courant) ;</li> <li>on initialise la variable qui indique le temps de d\u00e9part de notre cycle en lui donnant la valeur <code>millis()</code> courante (quelques d\u00e9tails sur la fonction millis() sur cette page). </li> </ul> <pre><code>void setup() {\npinMode(feuRougeVoieA, OUTPUT);\npinMode(feuOrangeVoieA, OUTPUT);\npinMode(feuVertVoieA, OUTPUT);\n\ndepartCycle = millis();\n}\n</code></pre>"},{"location":"Travaux%20pratiques/TP-feux-de-carrefour/#fonction-principale","title":"Fonction principale","text":"<p>La fonction principale d'un programme Arduino s'appelle <code>loop()</code>. Toute les instructions comprises dans cette fonction s'ex\u00e9cute les unes apr\u00e8s les autres. \u00c0 la fin de cette fonction, on recommence \u00e0 ex\u00e9cuter les instructions, ceci ind\u00e9finiment.</p> <pre><code>void loop() {\n\n// Extinction des feux :\ndigitalWrite(feuRougeVoieA, LOW);\ndigitalWrite(feuOrangeVoieA, LOW);\ndigitalWrite(feuVertVoieA, LOW);\n\n// Comparaison du temps pass\u00e9 avec le d\u00e9part du cycle :\nif (millis() &lt; (departCycle + 3000)) {passageVoieA();}  if ((millis() &gt;= (departCycle + 3000)) &amp;&amp; (millis() &lt; (departCycle + 4000))) {transitionVoieA(); }\nif ((millis() &gt;= (departCycle + 4000)) &amp;&amp; (millis() &lt; (departCycle + 8000))) {arretVoieA();;}\nif (millis() &gt; (departCycle + 8000)) {departCycle = millis();}\n}\n</code></pre>"},{"location":"Travaux%20pratiques/TP-feux-de-carrefour/#que-se-passe-t-il-dans-cette-fonction","title":"Que se passe-t-il dans cette fonction ?","text":"<ul> <li>On \u00e9teint tous les feux.</li> <li>On compare le temps actuel (<code>millis()</code>) avec le moment de d\u00e9part du cycle :<ul> <li>s'il est inf\u00e9rieur \u00e0 3000, on laisse passer les voitures de la voie A (feu vert) ;</li> <li>s'il est compris entre 3000 et 4000, on pr\u00e9pare la transition de la voie A vers l'arr\u00eat des v\u00e9hicules (feu orange) ;</li> <li>s'il est compris entre 4000 et 8000, on arr\u00eate les voitures de la voie A (feu rouge) ;</li> <li>Si ce temps est sup\u00e9rieur \u00e0 8000, on r\u00e9initialise le d\u00e9part du cycle, puis on recommence.</li> </ul> </li> </ul> <p>on ne commande pas directement l'extinction et l'allumage des feux directement dans cette fonction, on passe par d'autres fonctions qui en ont la charge (<code>passageVoieA()</code>, <code>transitionVoieA()</code>, etc ). Ces fonctions sont d\u00e9finies dans la suite du programme :</p>"},{"location":"Travaux%20pratiques/TP-feux-de-carrefour/#fonctions-dextinction-et-dallumage-des-feux","title":"Fonctions d'extinction et d'allumage des feux","text":"<p>Elles se placent \u00e0 la suite de la fonction <code>loop()</code>. Par exemple :</p> <p>```arduino void passageVoieA() {   digitalWrite(feuRougeVoieA, LOW);   digitalWrite(feuOrangeVoieA, LOW);   digitalWrite(feuVertVoieA, HIGH); } ```` Les autres fonctions seront semblables.</p>"},{"location":"Travaux%20pratiques/TP-feux-de-carrefour/#programme-complet","title":"Programme complet","text":"<p>Il est t\u00e9l\u00e9chargeable ici : feu-tricolore-1.ino</p> <p>Travail \u00e0 r\u00e9aliser</p> <p>Vous devez cr\u00e9er ce montage et tester le programme avec un seul feu dans un premier temps. Ensuite vous devez c\u00e2bler un deuxi\u00e8me feu tricolore, qui indiquera le fonctionnement pour les v\u00e9hicules de la voie B. \u00c0 vous de modifier le programme pour y ins\u00e9rer les extinctions et allumages du deuxi\u00e8me feu...</p>"},{"location":"Travaux%20pratiques/TP-mesure-temperature-dht22/","title":"TP. Mesure de la temp\u00e9rature avec un capteur DHT22","text":"<p>Objectifs</p> <p>On souhaite dans ce TP mesurer la temp\u00e9rature avec un capteur DHT22. Ce capteur se branche sur une broche num\u00e9rique d'une carte \u00e9lectronique type Arduino ou Esp32... Comment sont envoy\u00e9es les informations d'humidit\u00e9 et de temp\u00e9rature du capteur vers la carte ?</p>"},{"location":"Travaux%20pratiques/TP-mesure-temperature-dht22/#materiel-necessaire","title":"Mat\u00e9riel n\u00e9cessaire","text":"<ul> <li>DHT 22.</li> <li>Carte \u00e9lectronique type Arduino Uno ou ESP32.</li> <li>Analyseur logique et son logiciel, \u00e0 t\u00e9l\u00e9charger et \u00e0 installer.</li> </ul>"},{"location":"Travaux%20pratiques/TP-mesure-temperature-dht22/#cablage","title":"C\u00e2blage","text":""},{"location":"Travaux%20pratiques/TP-mesure-temperature-dht22/#programme","title":"Programme","text":"<p>Le programme en entier :</p> <p>Attention !</p> <p>Le seul point \u00e0 surveiller est le num\u00e9ro de la broche utilis\u00e9e. Dans ce cas, <code>brocheDHT</code> est la broche 23 (la carte utilis\u00e9e est une ESP32).</p> <pre><code>#include \"DHT.h\"\n\n// D\u00e9finit la broche de l'Arduino sur laquelle la \n// broche DATA du capteur est reli\u00e9e \n#define brocheDHT 23\n\n// Definit le type de capteur utilis\u00e9\n#define DHTTYPE DHT22\n\n// D\u00e9clare un objet de type DHT\n// Il faut passer en param\u00e8tre du constructeur \n// de l'objet la broche et le type de capteur\nDHT dht(brocheDHT, DHTTYPE);\n\nvoid setup() {\nSerial.begin(9600);\n\n// Initialise le capteur DHT22\ndht.begin();\n}\n\nvoid loop() {\n// R\u00e9cup\u00e8re la temp\u00e9rature et l'humidit\u00e9 du capteur et l'affiche\n// sur le moniteur s\u00e9rie\nSerial.println(\"Temperature = \" + String(dht.readTemperature())+\" \u00b0C\");\nSerial.println(\"Humidite = \" + String(dht.readHumidity())+\" %\");\n\n// Attend 10 secondes avant de reboucler\ndelay(10000);\n}\n</code></pre> <p>Les donn\u00e9es sont affich\u00e9es toutes les 10 secondes sur le moniteur s\u00e9rie de votre IDE (Arduino ou Visual Studio Code).</p>"},{"location":"Travaux%20pratiques/TP-mesure-temperature-dht22/#affichage-de-la-trame-envoyee-par-le-capteur","title":"Affichage de la trame envoy\u00e9e par le capteur","text":"<p>La trame se compose de 5 octets : </p> <p>Les deux premiers octets indiquent en poucentage l'humidit\u00e9 ; les deux suivants la temp\u00e9rature ; le dernier est la somme de v\u00e9rification des quetre premiers.  </p> <p>On peut observer simplement cette trame en utilisant un analyseur de trame comme celui ci-dessous : </p>"},{"location":"Travaux%20pratiques/TP-portail-un-battant/","title":"TP. Portail un battant","text":"<p>D\u00e9couverte de la programmation d'une carte Arduino, de ses capteurs (bouton poussoir, barri\u00e8re infra-rouge, t\u00e9l\u00e9commande) et actionneurs (led, servomoteur, buzzer), \u00e0 travers l'utilisation de cette maquette de portail :</p> <p></p> <p>Cette maquette est commercialis\u00e9e par Technologie Services. Voir lien : lien</p>"}]}